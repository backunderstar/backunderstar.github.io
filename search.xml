<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>『Yunzai-Bot』QQ机器人-docker部署</title>
      <link href="//yunzai_docker/"/>
      <url>//yunzai_docker/</url>
      
        <content type="html"><![CDATA[<hr><p>写在前面：</p><p>​因Github原仓库被ban，原仓库每次提交github action自动编译的镜像已经很久没更新了，简单来说，镜像还是原本的oicq库，所以想用docker需要自行按照喵喵仓库里给的Dockerfile构建镜像。</p><p>​如今在维护的仓库有<a href="https://gitee.com/yoimiya-kokomi/Miao-Yunzai">Miao-Yunzai</a>和<a href="https://gitee.com/yoimiya-kokomi/Yunzai-Bot">Yunzai-Bot</a>，下面用的都是<a href="https://gitee.com/yoimiya-kokomi/Miao-Yunzai">Miao-Yunzai</a>。</p><hr><h1>一、构建镜像</h1><h2 id="1、安装docker">1、安装docker</h2><ul><li><p>通过脚本或者自行百度方法进行安装</p></li><li><p>推荐使用脚本安装docker：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">sudo sh get-docker.sh --mirror Aliyun</span><br></pre></td></tr></table></figure></li><li><p>配置镜像加速( <strong>荐</strong>：配置个人阿里云镜像加速器请自行百度搜索方法)：</p></li></ul><h2 id="2、安装docker-compose">2、安装docker-compose</h2><ul><li><p>如果平时用的是非root用户，请切换到root用户进行安装，输入密码进行切换</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure></li><li><p>安装命令（连接不上多次重试，国内快速脚本坏掉了，从DaoCloud上下载的docker-compose有问题）：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://ghproxy.com/https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure></li><li><p>赋予执行权限并查看版本号，确定是否安装成功：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>如果平时使用的是非root用户，请退出root</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="3、下载与构建">3、下载与构建</h2><ul><li><p>拉取所需文件到本地</p></li><li><p>使用wget</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -P ./Miao-Yunzai https://gitee.com/yoimiya-kokomi/Miao-Yunzai/raw/master/docker/Dockerfile https://gitee.com/yoimiya-kokomi/Miao-Yunzai/raw/master/docker/docker-entrypoint.sh https://gitee.com/yoimiya-kokomi/Miao-Yunzai/raw/master/docker-compose.yaml</span><br></pre></td></tr></table></figure></li><li><p>进入文件目录</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./Miao-Yunzai</span><br></pre></td></tr></table></figure></li><li><p>构建镜像</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker build -t yunzai:v1.0 .</span><br></pre></td></tr></table></figure><p><strong>注意最后有个点，默认使用“上下文目录”下的Dockerfile文件</strong></p></li><li><p>等待，也许卡在下载，也许报错，卡住报错可能是网络问题。比如：</p><ul><li><p>卡住先Ctrl+C退出。</p></li><li><p>底层镜像的拉取：<code>node:lts-slim</code> <code>busybox:latest</code> 拉取耗时很长或者超时，给docker添加镜像加速器，可自行搜索“<strong>配置镜像加速器</strong>”等关键词寻找方法。23年4月1日：阿里的镜像加速器拉取的还是一年前的，不知道咋回事，不是最新的镜像。</p></li><li><p>出现<code>=&gt; ERROR [internal] load metadata for docker.io/library/busybox:latest</code>爆红的问题，可以先</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker pull busybox:latest</span><br></pre></td></tr></table></figure><p>再重新构建就好了。或者禁用“buildkit”？？？亦或是<a href="https://github.com/docker/buildx/issues/476">Error load metadata for docker.io/library/XXX (github.com)</a>上有多种解答方案。</p></li><li><p>ffmpeg的下载：我的解决办法是关掉，即Dockerfile中改为false；或者自己手动下载后搭建网络环境可以使用的HFS（http文件分享）服务（需要公网ip）更改Dockerfile里的ffmpeg地址；或者手动下载后蒋Dockerfile里的ffmpeg地址改为本地。</p></li><li><p><code>Failed to fetch http://security.debian.org/debian-security/</code>：在Dockerfile中自主换debian-security源或者多次重试，一般是网络不是很好，但是也是能连上的状态。</p></li></ul></li><li><p>如此，便构建成功了</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/c4cf5bec78dcc310c5b175454f5a989c.png" alt=""></p></li></ul><h1>二、部署容器</h1><p>这部分主要是修改docker-compose.yml。</p><h2 id="1、修改docker-compose-yml">1、修改docker-compose.yml</h2><ul><li>将图中大框内容删除（因为已经构建完了），将<code>./docker</code>更改为之前构建的<code>yunzai:v1.0</code></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/102e6fbcf3682f08210071ecd029df40.png" alt=""></p><ul><li>下载redis数据库的配置文件，按照他给的方法，创建对应目录放置好。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/f142b7d93f5c580f22ded702cf11f4b4.png" alt=""></p><h2 id="2、便捷部署">2、便捷部署</h2><h3 id="首次运行">首次运行</h3><p>首次运行如果 QQ 登录需要验证或者扫码登录，请按以下步骤进行操作。</p><ol><li><p><strong>启动容器</strong></p><p>在工作目录内运行命令，拉起容器，并运行初始化命令。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br><span class="line">docker <span class="built_in">exec</span> -it yunzai-bot node app</span><br></pre></td></tr></table></figure></li><li><p><strong>完成验证，重启容器</strong></p><p>验证完成后，按快捷键 Ctrl+C 退出，然后重启容器</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose restart</span><br></pre></td></tr></table></figure></li></ol><h3 id="常用命令">常用命令</h3><ul><li><p><strong>后台运行</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p><strong>前台运行</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure></li><li><p><strong>停止运行</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose down</span><br></pre></td></tr></table></figure></li><li><p><strong>重启/更新</strong></p><p>重启时会自动拉取最新项目并更新相关依赖</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose restart</span><br></pre></td></tr></table></figure></li><li><p>查看日志</p><p>查看最后的 100 行日志并持续输出日志</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose logs -f --<span class="built_in">tail</span>=100</span><br></pre></td></tr></table></figure></li></ul><h2 id="3、插件细节">3、插件细节</h2><ul><li>主要参照地址</li><li><a href="https://docs.yunzai.org/plugin/install-plugins-docker.html">使用 Docker 部署时安装插件 | 文档中心 (yunzai.org)</a></li><li>应该不会有啥大差错</li><li>出现问题可留言</li><li>诶嘿~</li><li>结束！</li></ul><h1>常见报错及处理办法</h1><ul><li>待积累</li></ul>]]></content>
      
      
      <categories>
          
          <category> 娱乐与记录 </category>
          
          <category> QQ机器人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QQ机器人 </tag>
            
            <tag> Yunzai-Bot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>原神语录</title>
      <link href="//genshin_sayings/"/>
      <url>//genshin_sayings/</url>
      
        <content type="html"><![CDATA[<div class="site-card-group"><a class="site-card" href="https://www.bilibili.com/read/cv14383037?spm_id_from=333.999.0.0"><div class="img"><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/eb0ec84752913ae5731839112ca11230.png"/></div><div class="info"><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/17f0be3fd1cd45a28006c32d068fe5c8.jpg"/><span class="title">一只咸鱼南萤</span><span class="desc">转载自一只咸鱼南萤</span></div></a></div><hr><ol><li><p>年年今日，灯明如昼。愿火不灭，愿人依旧。——海灯节名片</p></li><li><p>只要不失去你的崇高，整个世界都会为你敞开。 ——七天神像</p></li><li><p>风雨犹祝，山海同欢，是承天地之佑。星移斗转，沧海桑田，烟火人间依旧。功名在我，百岁千秋，毋忘秉烛夜游。今古诸事，激荡中流，宏图待看新秀。——2021海灯节</p></li><li><p>最初的鸟儿是不会飞翔的，飞翔是它们勇敢跃入峡谷的奖励。 ——安柏的童话书</p></li><li><p>总有地上的生灵，敢于直面雷霆的威光。——剧情（千手白眼，天下人间），或者万叶友人（都有）</p></li><li><p>那腾空而起的烟花宛如一颗颗逆飞的流星。——圣遗物介绍，逆飞的流星</p></li><li><p>人间归离复归离，我借浮生逃浮生。生平无妄却无妄，自古天衡不天衡。</p></li><li><p>与君相别离，不知何日是归期，我如朝露转瞬息。——世界任务《神樱大祓》</p></li><li><p>夏天是属于大家的。无论生活如何变化，无论这一年发生多少事，夏天都不会消失，就像人们之间的爱一样。——盛夏？海岛？大冒险？（2021夏活）</p></li><li><p>声音砰砰的，烟花点亮了天空，再看她的侧脸，那眼睛啊，反映出烟花的光，闪闪发亮…… ——宵宫传说任务</p></li><li><p>时间不会为任何人驻足，但工作的成果，成长的经历，这些都是扎扎实实的收获，会陪伴我们继续向前。——刻晴语音</p></li><li><p>惊涛入海觅螭虎，风雪归山斩妖邪。——（魈传说任务，描写铜雀的话）出自刘禹锡《赠长沙赞头陀》</p><ul><li>原诗：</li><li>青山碧水魂飘飘，浮生得闲把扇摇。</li><li>惊涛如海觅螭虎，风雪归山斩妖邪。</li></ul></li><li><p>说小，可取一捧粟米尝，汲石甘泉水;说大，可取一壶星月饮，行千年人间路。——逐月节</p></li><li><p>看那小子赚钱，比我亏欠还难受。——甘雨传说任务</p></li><li><p>风带来故事的种子，时间使之发芽；风带来了故事的种子，时间使之成为神话。——世界任务《时与风》</p></li><li><p>接引春雷焚身骨，化灰以养万类荣。——万叶友人墓志铭</p></li><li><p>谁也没有见过风，哪怕我和你，谁也没有见过爱情，直到花束抛向了自己。——风花节</p></li><li><p>我虽无意逐鹿，却知苍生苦楚。只愿荡涤四方，护得浮世一隅。——钟离PV《说书人》</p></li><li><p>在黎明到来之前，必须有人稍微照亮黑暗。——迪卢克语音</p></li><li><p>旅者，你将去往何方？——传说任务清零后面板</p></li><li><p>我等必将复起，古木已发新枝。——雪山名片</p></li><li><p>当夜空中所有的星星都熄灭的时候，所有梦想，所有溪流，都能汇入同一片大海中，那时，我们终会相见。——？</p></li><li><p>我想要和你们一起去旅行。去看看生命的小溪，到海之前，会经历的夹岸繁花和天际云霞。——？</p></li><li><p>漩涡无法击碎的磐岩，也终究会在时光的冲刷下磨损。——雷电将军故事</p></li><li><p>当你重新踏上旅途之后，一定要记得旅途本身的意义。 提瓦特的飞鸟、诗和城邦，女皇、愚人和怪物……都是你旅途的一部分。终点并不意味着一切，在抵达终点之前，用你的眼睛，多多观察这个世界吧。——温迪</p></li><li><p>我们都还没来得及说再见，所以，我不会把它当成离别。——萤/空</p></li><li><p>它来自旅途的尽头，世界的边缘。来自你我心中，永不停歇。——？</p></li><li><p>幻如浮世，依附于本质而侥幸存有。寂乃本质，深隐于易碎泡影之下，其名永恒。——雷电将军语音</p></li><li><p>一切力量皆有其代价，一千种权力伴随着一千种责任。——？</p></li><li><p>正因为无法更改，无可为逆，只能接受，命运才会被称之为命运。——莫娜语音</p></li><li><p>用自己的双脚丈量土地，将未知变为知识。——阿贝多语音</p></li><li><p>前面的区域以后再来探索吧。——派蒙语音</p></li><li><p>雪落于春日的荒野，须臾便会融化，哪怕稍纵即逝，无法在你心里留下任何的痕迹，哪怕这是最后一次。——？</p></li><li><p>力量若达到极限接着考验的便是人心。多亏了你，我才能来到这片未曾涉足的领域，在这里心和灵魂就像一片云彩。生老病死天地万象尽在吾辈。——胡桃语音</p></li><li><p>童年曾经相信过的东西，经历过的事，都会慢慢变成无可代替的宝物。——肖宫语音</p></li><li><p>不愿意沟通的话，问题就会永远留在那里。人们就看着，看着…   直到眼睁睁错过所有解决它的机会。——肖宫语音</p></li><li><p>我喜欢下雪，雪后的世界很安静，无人来扰我清梦。——枫原万叶语音</p></li><li><p>花散终有期，神樱万代立如昔，旧人归故里。——？</p></li><li><p>欲买桂花同载酒，只可惜故人，何日再见呢？——钟离语音</p><ul><li>出自南宋刘过《唐多令·芦叶满汀州》</li><li>原诗：</li><li>安远楼小集，侑觞歌板之姬黄其姓者，乞词于龙洲道人，为赋此《唐多令》。同柳阜之、刘去非、石民瞻、周嘉仲、陈孟参、孟容。时八月五日也。</li><li>芦叶满汀洲，寒沙带浅流。二十年，重过南楼。柳下系船犹未稳，能几日，又中秋。</li><li>黄鹤断矶头，故人今在否？旧江山，浑是新愁。欲买桂花同载酒，终不似，少年游。</li></ul></li><li><p>飘摇风雨中，睹物思故乡。——枫原万叶语音</p></li><li><p>祈祷吧，不是为了神或者任何人，而是为了你自己。——罗莎莉亚语音</p></li><li><p>浮世景色百千年依旧，人生在世却如白露与泡影，虚无。——雷电将军语音</p></li><li><p>不论是冒险还是做生意，机会都稍纵即逝。——刻晴语音</p></li><li><p>只要坚信自己的道路，就无谓天气是晴是雨。——迪卢克语音</p></li><li><p>清晨的鸟鸣，是大自然的馈赠。启程吧，属于我们的旅程也要开始了。——枫原万叶语音</p></li><li><p>抬头见月，侧耳听风，壶中有酒，我心太平…… ——枫原万叶语音</p></li><li><p>其实，大海并非没晚都充满风浪。天气晴朗的时候，月光倒映在摇晃的海面上，鱼群在船舶的周围随行。我坐在船头眺望远方，会觉得这段旅行非常值得。——枫原万叶语音</p></li><li><p>深山踏红叶，耳畔闻鹿鸣……我很喜欢枫叶，可惜枫叶红时总多别离。——枫原万叶语音</p></li><li><p>没有任何人有资格剥夺他人的愿望，即便是神也不行。——枫原万叶语音</p></li><li><p>不必担心，就算有一天我们去往不同的地方，也一定会在世界的某处再次相遇。人与人的缘不是那么容易就断掉的东西。——枫原万叶语音</p></li><li><p>流光换日月，鹤归云起庆生时，异乡有故知。——枫原万叶语音</p></li><li><p>风声忽而止息，万物静默，那是天空垂泪前的平静。清泉忽而跃起，即是大地震怒的征兆。——枫原万叶语音</p></li><li><p>活在世上固然有颠沛流离的时刻，却也有即使无比的邂逅。人生一途，如山路起伏，虽苦难万般，仍有触及云顶之时。——枫原万叶语音</p></li><li><p>心至空处，天地万物皆为空。心至净澈，万物天地皆为净。——枫原万叶语音</p></li><li><p>无人相陪，此般花鸟余情，也不过衬托我身不移不变的背景罢了。——雷电将军语音</p></li><li><p>浮世之景里，众生流淌而过。度过的热闹时光，一起结伴而行的人，一起品尝过的美味，这些是真实不虚的，是真正重要的事物。——旅行者语音</p></li><li><p>白露与清梦，朦幻与此生，若比君侧时，皆算久长事。——旅行者语音</p></li><li><p>不以规矩，不能成方圆。不管是常人还是仙人，唯有各司其职，方能保璃月长久太平。——钟离语音</p></li><li><p>契约无法界定友谊，无法丈量情谊，那到底用什么才能称量你我之间情感的重量呢？朋友，你知道答案吗。——钟离语音</p></li><li><p>活得太久的人，只能在记忆中寻访往昔的战友，过去的景色。即使如此我也不后悔与你相识，朋友。假使有一日不得不同你相别，你在我的记忆中也会如黄金般闪耀。——钟离语音</p></li><li><p>终有一日抵达了山巅。自顶峰望去，云在脚下，耳畔唯有清风袅袅。真正的高山——真正的空明澄澈之心，无我，无恨，无念，无愿。踏上旅途吧，我即是清风，再长的路也会有相遇，人生尚未结束，何处不是故乡。——辉金盛夏《枫原万叶》</p></li><li><p>是啊。走上高山，便会看到山间云烟，登上船只，便会看到海上迷雾。所以才要不时看看自己身在何处，要拔开迷雾，看清真心。——2022海灯节，刻晴语音</p></li><li><p>唯有遵守应守之律，人才能解开一切问题的法。——烟绯语音</p></li><li><p>大多数人会因为大风迷眼而止步不前，只有少部分人能够借势而为。——神里凌人语音</p></li><li><p>万事皆有代价，既然寻求常人无法企及之事，那就必然付出世人无法想象之代价。——神里凌人语音</p></li><li><p>在蓓花投于暖炉之上，在炉火的炙烤下，花会短暂地恢复生机，最后一刻的红艳更是压火光一筹……倒也没有枉费短暂的一生。——神里凌人语音</p></li><li><p>心有所向，日复一日，必有精进。——刻晴语音</p></li><li><p>游龙入云，纵横天下，志远心高，浩瀚无垠。…不无道理。东西南北，何方不得意。天地山海，尽是玲珑处。以后有时间，还得多出去走走。——世界任务《扇底春秋》</p></li><li><p>风雨中绝不熄灭的烟火，岩洞下永远沸腾的岩浆…无人可挡，无法停止的气魄。这才是我的摇滚。——辛焱语音（2.8秘境）</p></li><li><p>变革的时机已经到来，维持了千年的秩序即将被改写。——刻晴</p></li><li><p>当想要哭泣的时候就笑，想要放弃的时候就坚持。这就是海上的生存之道。——大肉丸</p></li><li><p>既然我生如雨，我灭如茶。生灭皆如水，我也没什么好执着的。天上下雨能救地上的灾厄，那么……我也可以吧。——黑谷势至丸</p></li><li><p>黑暗来自太阳之后，光明藏于你我心中。——须婆达之彦</p></li><li><p>生命中永远会有令人懊恼的事，但我知道，我们是为了不留遗憾而活着的，对吗？——迪娜泽黛</p></li><li><p>请为一切不真实之物感到骄傲，因为我们高于这个世界。——？？？</p></li><li><p>出发吧，旅行者，佚失的诗篇还在等着我们呢。——？？？</p></li><li><p>很多时候，我们直到经历切肤之痛，才不得不直视自身懒惰，愚昧，鲁莽或傲慢。但大可不必为此懊悔，我们无法观测未来的所有可能性，只能靠这样略显笨拙的方式获取知识。学费而已，再正常不过了。——纳西妲</p></li><li><p>正是因为我们不会飞，才会无比向往天空。——纳西妲</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 娱乐与记录 </category>
          
          <category> 原神 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 原神 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为了分类的占位页</title>
      <link href="//zhanwei/"/>
      <url>//zhanwei/</url>
      
        <content type="html"><![CDATA[<p>诶嘿，啥也没有。</p>]]></content>
      
      
      <categories>
          
          <category> 生活与无序 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>『Minecraft』我的世界开服</title>
      <link href="//mc_server/"/>
      <url>//mc_server/</url>
      
        <content type="html"><![CDATA[<p>最近受朋友邀请入坑我的世界，但我容易晕3D，不能长时间游玩，朋友们玩的时间也不固定。为寻求平衡，选择开设小型服务器是最合适的。</p><h1>游戏版本</h1><h2 id="Java版">Java版</h2><ul><li>《我的世界java版》：使用Java语言编写的，是minecraft的最初版本，一般称之为Java版、JE版，<strong>仅支持MacOS、Windows、Linux平台</strong>。</li></ul><h2 id="基岩版">基岩版</h2><ul><li>《我的世界基岩版》：使用C++编写，英文名称为Bedrock Edition，一般称为基岩版、PE版、携带版，<strong>支持IOS、安卓、Windows 10及以上，游戏主机等设备</strong>。</li></ul><h2 id="区别与选择">区别与选择</h2><ul><li>正常情况下，Java版只能和Java版联机，基岩版只能和基岩版联机；java版都是在电脑上联机，基岩版可以跨平台，例如手机和电脑联机。特殊情况可以用模组转换存档实现Java版与基岩版的联机。</li><li>在此选择Java版游玩是因为Java版有<strong>更多mod和光影和材质包，更多的玩家自制游戏地图</strong>，更多服务器，因为玩的人多，所以资源也多。还有第三方登录器，没有正版账号的玩家也可以方便以离线账户的方式游玩、加入服务器。</li></ul><h1>主流服务端核心</h1><p>我只记录我知道的，但是不一定用过。</p><h2 id="官服">官服</h2><ul><li><a href="https://mcversions.net/">MCVersions.net - Minecraft Versions Download List</a></li></ul><h2 id="插件服">插件服</h2><p>插件服是只能使用插件（Plugin）的服务端核心。可以用纯净的官方客户端连接。</p><ul><li><a href="https://getbukkit.org/">Bukkit</a></li><li><a href="https://www.spigotmc.org/">Spigot（Bukkit的分支）</a></li><li><a href="https://papermc.io/downloads">Paper（Spigot的分支|优化性能）</a> 粘性活塞刷物品需要手动配置paper.yml启用，刷沙机不可用.</li><li><a href="https://github.com/PurpurMC/Purpur">Purpur（Paper的分支|性能最好）</a></li><li><a href="https://github.com/Akarin-project/Akarin">Akarin-project/Akarin: Akarin is a powerful server software from the ‘new dimension’ (github.com)</a> 听说多核优化贼好。</li></ul><h2 id="MOD服">MOD服</h2><p>MOD服是只能使用MOD的服务端核心，根据加载器的不同，分为以下两种核心。对应的客户端才可以连接。</p><ul><li><a href="https://files.minecraftforge.net/net/minecraftforge/forge/">Forge</a></li><li><a href="https://fabricmc.net/use/">Fabric</a></li></ul><h2 id="插件Mod服">插件Mod服</h2><h3 id="特点">特点</h3><ul><li>兼容性和性能都较纯插件服和Mod服差</li><li>包括以下几个主流核心</li><li>需拥有对应mod加载器的客户端连接</li></ul><h3 id="主流核心">主流核心</h3><ul><li><a href="https://mohistmc.com/download/">Mohist</a> 墨端</li><li><a href="https://github.com/IzzelAliz/Arclight/releases">Arclight</a> 海螺端</li><li><a href="https://catmc.org/">CatServer</a> 猫端</li><li><a href="https://github.com/SpongePowered/SpongeForge">SpongePowered/SpongeForge: A Forge mod that implements SpongeAPI (github.com)</a> 海绵端</li></ul><h2 id="注意">注意</h2><ul><li>插件服客户端使用官方版本，版本号一致。</li><li>Mod服服务端和客户端的加载器版本（Forge/Fabric版本）一致。</li><li>服务端和客户端的服务端MOD一致。</li><li>服务端和客户端的服务端MOD版本一致</li></ul><h1>服务端搭建</h1><p>可以参考这个up的视频：<a href="https://www.bilibili.com/video/BV1pa411G7zy">全套流程</a></p><h2 id="服务器">服务器</h2><p>因为就几个朋友玩，所以选择阿里云试用，<strong>新人账户认证后</strong>可以免费试用一个月的16G服武器，对于几人小服绰绰有余。</p><p>具体选择在<a href="www.aliyun.com">阿里云</a>-产品-云服务器ESC-免费试用一个月</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/90f188f0e3c27d97a7ba6024a2815db6.png" alt=""></p><p>选择右边的通用推荐，就可以选择4H16G</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/fe9c2528c787e4d83d193dfa94bc47a0.png" alt=""></p><p>几个人用几个试用足够玩了，人多了还是推荐自己租新服务器或者面板服。</p><p>我<strong>选择的是Ubuntu20.04系统，并通过Xshell连接</strong>。</p><h2 id="远程连接">远程连接</h2><p>Xshell 官网：<a href="https://www.xshell.com/zh/">进入选择教育版，通过邮件获取安装包</a></p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/29bd686d692108818ad4170c941179b0.png" alt=""></p><h2 id="配置环境">配置环境</h2><h3 id="更新软件包列表">更新软件包列表</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure><h3 id="安装Java">安装Java</h3><ul><li>版本要求</li></ul><table><thead><tr><th>Minecraft版本</th><th>Java版本</th></tr></thead><tbody><tr><td>1.18+</td><td>17</td></tr><tr><td>1.17+</td><td>16+</td></tr><tr><td>1.12+</td><td>8+</td></tr><tr><td>1.11-</td><td>8</td></tr></tbody></table><ul><li>安装命令</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">apt install openjdk-8-jre</span><br></pre></td></tr></table></figure><ul><li><strong>请注意对应版本下载java运行环境，我的是1.12.2</strong></li><li>检查安装是否成功，若出现版本号即为成功</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h2 id="网页面板">网页面板</h2><p>主要就MCmanager和翼龙面板，选择其中一个就行。</p><ul><li>这里选择MCmanager：<a href="https://github.com/MCSManager/MCSManager/blob/master/README_CN.md">MCSManager/README_CN.md at master · MCSManager/MCSManager (github.com)</a></li><li><a href="https://docs.mcsmanager.com/#/">MCSManager 官方文档</a></li><li><strong>一行命令快速安装</strong>:国内用户专用 gitee 加速源</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget -qO- https://gitee.com/mcsmanager/script/raw/master/setup.sh | bash</span><br></pre></td></tr></table></figure><ol><li>脚本仅适用于 AMD64 架构 Ubuntu/Centos/Debian/Archlinux。</li><li>启用 MCSManager 服务：</li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl enable mcsm-&#123;daemon,web&#125;.service</span><br></pre></td></tr></table></figure><ol start="3"><li>运行 MCSManager 服务：</li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl start mcsm-&#123;daemon,web&#125;.service</span><br></pre></td></tr></table></figure><ol start="4"><li>检查 MCSManager 服务状态：（绿色即正常，按 q 退出页面）</li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl status mcsm-&#123;daemon,web&#125;.service</span><br></pre></td></tr></table></figure><ul><li><strong>需要在控制台实例安全组内放通23333、24444、25565端口</strong>，这是网页面板需要的和客户端连接需要的。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/c04d7a5f57e72779c51a7a4cb8bc0188.png" alt=""></p><ul><li>访问网页面板：浏览器打开 <code>IP:23333</code>，英文冒号。</li><li>首次登录注册管理员帐号密码。</li></ul><h2 id="服务端核心">服务端核心</h2><h3 id="选择下载">选择下载</h3><ul><li>这里我选择的是<a href="https://mohistmc.com/download/">Mohist</a>墨端1.12.2版本，一般下载该版本最新的稳定版LATEST。</li><li><strong>像这种模组插件端、整合包等，最好是本地试运行后再上传服务器，方便下载和排查错误。</strong></li></ul><h3 id="本地安装Java8">本地安装Java8</h3><ul><li><p>反正本地游玩、启动器也是要安装的，已经安装过的可以不装了。</p></li><li><p><a href="https://www.oracle.com/java/technologies/downloads/#java8-windows">Java8 Downloads | Oracle</a> 选择Java8的64位(x64)</p></li><li><p><a href="https://www.oracle.com/java/technologies/downloads/#jdk17-windows">Java17 Downloads | Oracle</a> 选择Java17的64位Installer</p></li><li><p>最好配置环境变量，有时候本地调试不同服务端核心时方便一点，或者直接指向对应java版本也是可以的。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/dc27e14f69122dfa9a92b3de7562df86.png" alt=""></p><h3 id="本地首次运行下载">本地首次运行下载</h3><ul><li>随意创建个文件夹：mc_server</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/4a7e86e07a54315e36c0c23e691b257f.png" alt=""></p><ul><li>在文件夹内右键创建txt文件，编辑输入：<ul><li>-Xms：设置运行的最小内存</li><li>-Xmx：设置运行的最大内存</li><li>nogui：不显示图形用户界面</li><li>pause：Windows系统暂停，防止控制台直接没运行完就自己关闭。</li><li>-jar后面的对应服务端核心文件的名字，我这里是mohist-1.12.2-320-server.jar，所以我的是</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -Xms1G -Xmx4G -jar mohist-1.12.2-320-server.jar nogui</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><ul><li>重命名为<code>run.bat</code>，双击运行</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/87e99fb70067c316bad8351d2fc8070b.png" alt=""></p><ul><li>耐心等待下载库文件。下载不动可以多试几次或者更换终端，直到：</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/f57249f0ef773169db21ccb8f86a91c7.png" alt=""></p><ul><li>输入true，成功生成世界。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/31df5160d02851644d9a543f2563a11b.png" alt=""></p><ul><li><code>stop</code>停止运行（保存停止）</li></ul><h3 id="模组插件搜索下载">模组插件搜索下载</h3><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/42d07e40ff43094f7e00ab326808f119.png" alt=""></p><ul><li>模组：可以在以下网页找<ul><li><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科 (mcmod.cn)</a></li><li><a href="https://www.mcbbs.net/forum-mod-1.html">Minecraft(我的世界)中文论坛|mcbbs论坛 </a></li><li><a href="https://www.curseforge.com/minecraft/mc-mods">Mods - Minecraft - CurseForge</a></li></ul></li><li>插件:<ul><li><a href="https://www.mcbbs.net/forum-servermod-1.html">服务端插件 Minecraft(我的世界)中文论坛(mcbbs.net)</a></li><li><a href="https://mineplugin.org/%E9%A6%96%E9%A1%B5">Minecraft插件百科 (mineplugin.org)</a></li></ul></li><li>更多可以直接尝试必应搜索、百度搜索。</li><li>光影，纹理，皮肤，地图都可以在上面相关网页查找。</li><li>也可以直接拿服务端整合包开服。</li><li>选择下载放好自己配的或者配好的mod插件后，重新本地试运行，也可以删除存档（world）重新生成世界，有的资源模组、地形模组需要。</li></ul><h3 id="打包上传">打包上传</h3><ul><li>在<strong>文件夹内全选</strong>右键压缩成zip，<strong>必须在文件夹内全选后压缩，必须是zip</strong>，其他格式MCmanager不支持。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/9de820e30ed4b0603754c2cd7472ca8c.png" alt=""></p><ul><li><code>IP:23333</code>进入MCmanager网页面板，选择应用实例，新建实例。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/561d33ee803a0292cb03b117898ef789.png" alt=""></p><ul><li>选择<strong>Java版Minecraft游戏服务端</strong>-<strong>上传服务端压缩包</strong></li><li>启动命令填写之前run.bat文件中的第一行。<strong>可根据服务器配置更改最大最小内存</strong>。我这里为：（或者有的服务端核心会自带运行脚本，需要赋权后运行。可忽略。）</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -Xms8G -Xmx12G -jar mohist-1.12.2-320-server.jar nogui</span><br></pre></td></tr></table></figure><ul><li><p><strong>但是一定不要超过服务器可用内存</strong>。</p></li><li><p>实例名称随意，服务端文件目录不填（了解的话可以自定义）</p></li><li><p>上传刚才压缩的zip。编码选择简体中文（根据实际情况）。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/3101cabd8a061f18eac3136c90c8ab6a.png" alt=""></p><h3 id="运行实例">运行实例</h3><ul><li>前往编辑具体事例参数，下翻点击控制台。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/7d6220c3d9d38ac48de1a87d9fa98fa0.png" alt=""></p><ul><li><p>点击特定配置，对相关配置进行设置。</p><ul><li>主要介绍server.properties</li><li>配置文件重点：<ul><li>gamemode<ul><li>survival – 生存</li><li>creative – 创造</li><li>adventure – 冒险</li></ul></li><li>difficulty<ul><li>peaceful – 和平</li><li>easy – 简单</li><li>normal – 中等</li><li>hard – 困难</li></ul></li><li>max-players<ul><li>最大玩家数量</li></ul></li><li>online-mode<ul><li>true – 只有正版能进服</li><li>false – 无正版验证</li></ul></li><li>white-list<ul><li>true – 只有白名单玩家能进服</li><li>false – 任何玩家能进服</li></ul></li></ul></li><li>其他配置可自行探索，或者查找官方文档，比如墨端：<a href="https://wiki.mohistmc.com/#/config/mohist-yml-1.12.2">Mohist (mohistmc.com)</a></li></ul></li><li><p><strong>开启实例</strong>，等待输出就好了，看到没ERROR就好了。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/57bd57fa043ea6cc7fc334a78b514544.png" alt=""></p><ul><li>更多设置可以查看<ul><li><a href="https://mcsm.imlazy.ink/index.html">首页 - MCSManager 帮助文档 (imlazy.ink)</a></li><li><a href="https://docs.mcsmanager.com/#/">MCSManager 官方文档</a></li></ul></li></ul><h1>客户端启动器</h1><h2 id="HMCL">HMCL</h2><ul><li>下载地址<ul><li><a href="https://hmcl.huangyuhui.net/download/">下载 - Hello Minecraft! Launcher (huangyuhui.net)</a></li></ul></li><li>使用文档<ul><li><a href="https://hmcl.huangyuhui.net/help/">文档 - Hello Minecraft! Launcher (huangyuhui.net)</a></li></ul></li></ul><h2 id="PCL2">PCL2</h2><ul><li>下载地址<ul><li><a href="https://afdian.net/p/0164034c016c11ebafcb52540025c377">PCL2 正式版下载丨龙腾猫跃丨爱发电 (afdian.net)</a></li></ul></li><li>没找到文档</li></ul><h2 id="使用帮助">使用帮助</h2><ul><li>对应下载版本，和对应模组加载器，比如墨端1.12.2是用的forge，就要对应下载1.12.2版本客户端和forge模组加载器。</li><li>插件全部是服务端，客户端不存在安装插件</li><li>模组分服务端、客户端、服务端和客户端同装、服务端可选与客户端可选。</li><li>待续。。。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 娱乐与记录 </category>
          
          <category> Minecraft </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>『Yunzai-Bot』QQ机器人-Windows部署</title>
      <link href="//yunzai_win/"/>
      <url>//yunzai_win/</url>
      
        <content type="html"><![CDATA[<p>21年末，我回坑原神。22年初，我开始折腾QQ上原神相关的机器人。22年中，因为开源与不开源、作者与用户的问题弃坑。但是仍然使用着，并且仅仅通过开源渠道–<strong>Github</strong>、<strong>Gitee</strong>获取代码与插件。随着开源作者们的努力，云崽拥有了更高的稳定性、更多的用户、更丰富的插件。在此，通过博客对过去的一些细节过程进行整理记录。</p><ul><li>3月31日更新：原github项目地址被ban，更换喵喵版的Yunzai-Bot。</li></ul><h2 id="介绍">介绍</h2><ul><li><p>云崽v3.0，原神qq群机器人，通过米游社接口，查询原神游戏信息，快速生成图片返回。</p></li><li><p><strong>nodejs框架</strong>，插件内容丰富。</p></li><li><p><strong>项目仅供学习交流使用，严禁用于任何商业用途和非法行为。</strong></p></li></ul><h2 id="项目地址">项目地址</h2><h3 id="云崽">云崽</h3><ul><li><a href="https://github.com/Le-niao/Yunzai-Bot">Le-niao/Yunzai-Bot: 原神QQ群机器人 (github.com)</a></li><li><a href="https://gitee.com/Le-niao/Yunzai-Bot">Yunzai-Bot: 原神QQ群机器人 (gitee.com)</a></li></ul><h3 id="插件索引">插件索引</h3><ul><li><a href="https://github.com/yhArcadia/Yunzai-Bot-plugins-index">yhArcadia/Yunzai-Bot-plugins-index: Yunzai-Bot云崽QQ机器人插件索引 (github.com)</a></li><li><a href="https://gitee.com/yhArcadia/Yunzai-Bot-plugins-index">Yunzai-Bot-plugins-index: Yunzai-Bot云崽QQ机器人插件索引 (gitee.com)</a></li></ul><h3 id="文档中心">文档中心</h3><ul><li><a href="https://docs.yunzai.org/">主页 | 文档中心 (yunzai.org)</a></li></ul><h2 id="环境准备">环境准备</h2><h3 id="系统准备">系统准备</h3><p><strong>Windows或者linux</strong>，总的来说搭建场景可以分成以下几种方式</p><ul><li><p>自己的Windows电脑：需要长时间开机，不推荐。除非愿意即用即开。并且耗电量大，费电脑。</p></li><li><p><strong>Windows系统云服务器</strong>：云电脑、云主机等，“云”可以24小时持续在线。</p></li><li><p><strong>linux系统云服务器</strong>：ubuntu、centos、答辩等系统云服务器。</p></li><li><p>可联网的空闲手机：本质也是用linux系统环境。（容器）</p></li><li><p>（另外还有什么：随身WiFi，刷个debain系统；树莓派啥的都是可以成功的，但是太过折腾，不推荐。）</p></li></ul><p><strong>本页主要记录Windows系统服务器上的搭建过程。</strong></p><p>准备个人电脑或者到云服务商购买云服务器</p><div class="tabs" id="windows"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#windows-1">个人电脑</button></li><li class="tab"><button type="button" data-href="#windows-2">云服务器</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="windows-1"><p><strong>直接打开电脑就可以继续往下看了。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="windows-2"><h4 id="云服务器">云服务器</h4><p>主流：</p><ul><li><a href="https://www.aliyun.com/">阿里云</a></li><li><a href="https://cloud.tencent.com/">腾讯云</a></li><li><a href="https://cloud.baidu.com/">百度云</a></li><li><a href="https://activity.huaweicloud.com/">华为云</a></li></ul><p>在这里推荐各服务商的<strong>新人优惠</strong>，2核2G做活动时30~60左右一年。比开一年个人电脑耗的电便宜。</p><p>具体购买流程就是：</p><p><strong>选个服务商–注册账号–实名认证–进入最新活动–寻找新人优惠–选择2H2G云服务器或者轻量应用服务器–购买</strong></p><ul><li><strong>1G内存的建议跑linux</strong></li></ul><p>就好了。</p><h4 id="推荐">推荐</h4><p>首推<strong>阿里云</strong>：腾讯云内存虚（4G实际只有3.3G，友商基本3.6~3.8G），百度云带宽虚（6M感觉只有3M,应该是个别情况,但是<strong>便宜</strong>），华为云不好说，我没买过。（只是说一丢丢虚，毕竟是大厂，服务器问题倒是没有的）</p><ul><li>最近好像不打折，看情况。<strong>只要能用并且安全并且便宜，随便。</strong></li></ul><h4 id="远程桌面连接">远程桌面连接</h4><p>进入控制台：<strong>我这里以阿里云-Windows Server 2019数据中心版（64位）为例</strong>，<strong>首次</strong>创建实例需要在阿里云控制台实例内<strong>重置密码。</strong></p><ul><li><p>推荐先在控制台-实例-安全组中<strong>放通50831端口</strong>。后续安装锅巴插件需要用到。</p></li><li><p><strong><code>win</code>+r</strong>打开运行，输入<code>mstsc</code>，确定（或者点开菜单栏，直接搜索<strong>远程桌面连接</strong>）</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/867469545885244b07049078d46b67ca.png" alt=""></p><ul><li>点击<strong>显示选项</strong>的箭头，计算机输入<strong>公网ip</strong>地址，勾选始终要求凭证，用户名一般默认都是<strong>administrator</strong>。<strong>连接，选择信任，输入密码</strong>等。（或者直接在网页控制塔上寻找远程连接，下载为RDP，存到桌面，双击就可以连接。）</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/dc8b05a2d5b95f47643d2d5c8cff4384.png" alt=""></p><ul><li>之后成功连接进入服务器桌面的窗口。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/52b12707a290e63a83eb15441560e3fb.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="软件准备">软件准备</h3><h4 id="推荐">推荐</h4><ul><li><a href="https://pc.qq.com/detail/1/detail_2661.html">谷歌浏览器</a>，推荐下载软件，获取token。如果用的Windows server2022自带Edge可不用装。但是2022系统内存占用更多。亲测2019首次进占1.3G，2022占1.5G。<strong>2012和2022不推荐。推荐2016和2019</strong>。内存大2022无所谓。</li><li><a href="https://nodejs.org/zh-cn/download/">nodejs</a>，项目运行框架。</li><li><a href="https://pc.qq.com/detail/13/detail_22693.html">git</a>，拉取开源代码。</li><li><a href="https://wwa.lanzoui.com/inuUQi6v3ad">redis</a>，数据库。</li><li><a href="https://pc.qq.com/detail/5/detail_2685.html">7-zip</a>，超级轻量解压缩软件。</li><li><a href="">python</a>，可选，py插件依赖。</li></ul><p><strong>如果是服务器</strong>，推荐自己电脑上下载好谷歌浏览器安装包，<strong>直接将安装包复制到服务器桌面安装</strong>，然后在浏览器上打开本页，之后的软件直接在服务器上用谷歌浏览器下载。</p><h4 id="安装谷歌">安装谷歌</h4><p><a href="https://pc.qq.com/detail/1/detail_2661.html">下载地址</a></p><p>直接双击安装包，等待就好，不会有界面引导。</p><h4 id="安装nodejs">安装nodejs</h4><p><a href="https://nodejs.org/zh-cn/download/">下载地址</a></p><p>选择<strong>长期维护版</strong>-<strong>windows安装包（.msi)</strong>-<strong>64-bit</strong></p><p>最新版不稳定。</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/5781b2f1f996959d901d98bf560f8b6e.png" alt=""></p><ul><li><p>双击-Next-打钩-Next-Next-Next-Next-Install-Finish</p></li><li><p>shift+右键选择打开powershell，或者cmd。分别输入<code>node -v</code>和<code>npm -v</code>验证是否安装成功。<strong>出现版本号就算成功</strong>。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/b403c2b7ea2a6af8341a4eb06e1b27ed.png" alt=""></p><h4 id="安装git">安装git</h4><p><a href="https://pc.qq.com/detail/13/detail_22693.html">下载地址</a></p><ul><li>Next-Next-取消勾选<code>Git GUI Here</code>（可选）-Next-Next-Next-Next-Next-Next-Next-Next-Next-Next-Next-Next-Install-Finish</li></ul><p>GUI基本用不到，可以取消勾选，也可以不管。</p><h4 id="安装7-zip">安装7-zip</h4><p><a href="https://pc.qq.com/detail/5/detail_2685.html">下载地址</a></p><ul><li>打开-Install-close</li></ul><h4 id="安装redis">安装redis</h4><p><a href="https://wwa.lanzoui.com/inuUQi6v3ad">下载地址</a></p><ul><li><p>普通下载-放到桌面（或者自己找个地方）-右键<code>7-zip</code>-提取到“Redis…”-双击<code>redis-server.exe</code>运行数据库</p></li><li><p>会出现一个窗口，放一边或者最小化别关闭就行。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/05b40e201073c9c9025cdce2f71d96c3.png" alt=""></p><h2 id="部署">部署</h2><ul><li>右键<strong>Git bash here</strong>打开git控制台。</li><li>有<a href="https://gitee.com/yoimiya-kokomi/Yunzai-Bot">Yunzai-Bot(gitee.com)</a>和<a href="https://gitee.com/yoimiya-kokomi/Miao-Yunzai">Miao-Yunzai(gitee.com)</a>两种，以下以Yunzai-Bot举例。</li><li>克隆项目（在git bash中<strong>右键paste粘贴</strong>）</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git clone --depth=<span class="number">1</span> -b main https://gitee.com/yoimiya-kokomi/Yunzai-Bot.git</span><br></pre></td></tr></table></figure><ul><li>进入项目根目录</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> Yunzai-Bot</span><br></pre></td></tr></table></figure><ul><li>全局安装pnpm</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install pnpm -g</span><br></pre></td></tr></table></figure><ul><li>安装依赖</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pnpm install -P</span><br></pre></td></tr></table></figure><ul><li>运行（首次运行按照提示输入登录）</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></table></figure><h2 id="首次运行">首次运行</h2><p><strong>本地可以密码不填写扫码，云服务器必须账密登录，扫码不在一个局域网下不会通过</strong></p><h3 id="账密登录">账密登录</h3><ul><li>node app后输入小号账号密码，输入错误请<strong>ctrl+C结束程序</strong>，重新node app。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/2133150dceba49069a040c2f89893d88.png" alt=""></p><ul><li>继续选择端口，及你的机器人小号运行在什么设备上。<strong>请选择你没有的设备</strong>，防止登录设备与你平时登录的设备相同时顶号掉线。<strong>建议ipad，或者安卓手表</strong>，不建议macos，可能版本过旧。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/5491f032b82f4eb65b231d4eb2985956.png" alt=""></p><ul><li>继续根据提示输入主人QQ号，<strong>最好要和机器人号是好友</strong>。</li></ul><h3 id="取ticket滑动验证">取ticket滑动验证</h3><ul><li><p>之后需要进行滑动验证。可以通过上下键选择验证方式，软件验证请按照提示。优先软件验证码验证比较简单。<strong>这里贴图演示关于手动获取ticket方法</strong>。</p><ul><li>选取绿色连接，右键copy到浏览器（推荐Edge或者谷歌）打开。会显示滑动验证页面。</li><li>先不急验证，先在页面上右键检查，选择network（也可能显示网络）选项卡。再进行滑动验证。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/5e000b4aa1d077e8da5da2260bdf0b22.png" alt=""></p><ul><li>滑动验证成功后，在最新的跳出项中寻找最新（很多的话选择最新的那个）的**<code>cap_union_new_verify</code>**项，点击。在出现的框中选择Preview或者Pesponse，复制ticket：后面引号中的长串。<strong>不要包含双引号</strong>。</li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/96cbe0af98cbb0d82ff0436e10be1cdb.png" alt=""></p><ul><li>回到git bash中粘贴，记得先选择<code>手动获取ticket</code></li></ul><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/fa660e4a0292c7adc7e87183a9e54e7e.png" alt=""></p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/ec5fda64b18f4230719518f033e806e3.png" alt=""></p><p><strong>喵喵版本云崽已经更换oicq为icqq库，解决了版本过低问题，按上述步骤之后无问题可忽略此问题，直接到底下进行登录验证。</strong></p></li></ul><h3 id="解决版本过旧">解决版本过旧</h3><ul><li><p><strong>喵喵版本云崽已经更换oicq为icqq库，解决了版本过低问题，按上述步骤之后无问题可忽略此问题，直接到底下进行登录验证。</strong></p></li><li><p>如果显示如上，则需要对<code>Yunzai-Bot/data/[小号QQ]/device-[小号QQ].json</code>文件进行更改，右键选择<strong>打开方式</strong>，在本机上找记事本，或者自己再下个notepad++，或者vscode，如果内存够的话。</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/0587a88ccac2f0669c2f0eb155597899.png" alt=""></p><ul><li><p>将device和imei项的值的最后一个字母或数更改，例如我分别改成了Z和9。保存之后再次node app，重新滑动验证获取ticket即可。</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/51d044e5b00d8850a9731a1cfb15baa4.png" alt=""></p></li></ul></li></ul><h3 id="QQ登录验证">QQ登录验证</h3><ul><li><p>之后是QQ的验证登录，请在<strong>服务器上的选择第2项发送短信</strong>。本地个人电脑选择第1项，在同一网络下扫码。</p><p><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/13b19a280f065ac0cdce8157c23cd790.png" alt=""></p></li><li><p>之后可以看到<br><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/02a61a37e0e070d3f4d22ae7c124cce9.png" alt=""></p><ul><li>同时，QQ上小号会发来消息。<br><img src="https://cdn.staticaly.com/gh/backunderstar/img@master/blog/2816c3b45976842bf60f33d547c8cbf2.png" alt=""></li></ul></li><li><p>之后可以按照如下命令进行操作。</p></li></ul><h2 id="命令">命令</h2><ul><li>后台运行（可以关闭Git bash窗口，不影响机器人运行）</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm <span class="built_in">start</span></span><br></pre></td></tr></table></figure><ul><li>前台交互运行（关闭Git bash窗口后，机器人程序结束）</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></table></figure><ul><li>重启</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm restart</span><br></pre></td></tr></table></figure><ul><li>查看日志（常用来查看报错，无法交互）</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm run log</span><br></pre></td></tr></table></figure><ul><li>停止</li></ul><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm stop</span><br></pre></td></tr></table></figure><h2 id="安装插件">安装插件</h2><ul><li><strong>云崽本体不带面板，需要添加喵喵插件</strong>。在此推荐喵喵插件、图鉴插件、锅巴插件。</li></ul><h3 id="喵喵插件">喵喵插件</h3><ul><li><p>如果安装的Miao-Yunzai可以忽略。</p></li><li><p>在Yunzai-Bot根目录git bash 或者其他终端，运行</p></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/yoimiya-kokomi/miao-plugin.git ./plugins/miao-plugin/</span><br></pre></td></tr></table></figure><ul><li>拉取不下来的用gitee源</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/yoimiya-kokomi/miao-plugin.git ./plugins/miao-plugin/</span><br></pre></td></tr></table></figure><ul><li>安装依赖</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pnpm add image-size -w</span><br></pre></td></tr></table></figure><ul><li>重启即可，<strong>#喵喵帮助，#喵喵设置</strong>等自行探索。</li><li><a href="https://gitee.com/yoimiya-kokomi/miao-plugin">miao-plugin: Yunzai-Bot 的扩展插件 Miao-Plugin 提供一些能力增强 (gitee.com)</a></li></ul><h3 id="图鉴插件">图鉴插件</h3><ul><li>功能：角色等图鉴、#扫码登录、#账号密码登录、<strong>快捷绑定ck、sk</strong>、体力优化等。</li><li>在Yunzai-Bot根目录git bash 或者其他终端，运行</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Ctrlcvs/xiaoyao-cvs-plugin.git ./plugins/xiaoyao-cvs-plugin/</span><br></pre></td></tr></table></figure><ul><li>拉取不下来时用gitee源</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/Ctrlcvs/xiaoyao-cvs-plugin.git ./plugins/xiaoyao-cvs-plugin/</span><br></pre></td></tr></table></figure><ul><li>命令说明（照抄自<a href="https://gitee.com/Ctrlcvs/xiaoyao-cvs-plugin">xiaoyao-cvs-plugin: 用于辅助yunzai图库使用 (gitee.com)</a>）<ul><li>发送 【#图鉴更新】 获取最新的图鉴记录。(必须)</li><li>发送 【#**图鉴】 进行触发，例如发送 #刻晴图鉴，即可返回对应的图片信息。</li><li>发送 【#图鉴插件更新】获取最新代码</li><li>别名文件在 /xiaoyao-cvs-plugin/resources/Atlas_alias 目录下面，当前只支持食物及原魔的别名</li><li>发送 #图鉴帮助 获取帮助面板</li><li>发送 #图鉴设置 获取图鉴管理面板</li><li>发送 #图鉴版本 获取图鉴更新日志</li><li>其余具体功能通过 #图鉴帮助 #图鉴版本 查看</li><li>发送 #崩坏3签到 可签到崩坏3游戏模块 具体支持【崩坏3、原神、崩坏2、未定义事件】原神模块(当前)支持过验证码</li><li>发送 #云原神签到 可签到云原神游戏</li><li>默认配置文件位于 ./plugins/xiaoyao-cvs-plugin/defSet/config/config.yaml</li><li>支持stoken绑定以及相关的操作。如：【#更新抽卡记录】</li></ul></li></ul><h3 id="锅巴插件">锅巴插件</h3><ul><li><code>Guoba-Plugin</code>是<code>Yunzai-Bot</code>的扩展插件，主要提供<strong>后台管理界面</strong>。</li><li>记得云服务器放通50831</li><li>在云崽根目录下打开终端，运行</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth=1 https://gitee.com/guoba-yunzai/guoba-plugin.git ./plugins/Guoba-Plugin/</span><br></pre></td></tr></table></figure><ul><li>安装依赖</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pnpm install --filter=guoba-plugin</span><br></pre></td></tr></table></figure><ul><li><p>命令说明</p></li><li><p>请直接去<a href="https://gitee.com/guoba-yunzai/guoba-plugin">Guoba-Plugin: Yunzai-Bot 的插件，主要用于提供后台管理界面。 (gitee.com)</a></p></li></ul><h3 id="另外推荐">另外推荐</h3><ul><li><a href="https://gitee.com/XiTianGame/xitian-plugin">xitian-plugin: 一个Yunzai-Bot（V3）的插件管理器 (gitee.com)</a></li><li>喜爱折腾的可以直接挨个尝试插件索引上面的：<a href="https://gitee.com/yhArcadia/Yunzai-Bot-plugins-index">Yunzai-Bot-plugins-index: Yunzai-Bot云崽QQ机器人插件索引 (gitee.com)</a></li></ul><h2 id="注意事项">注意事项</h2><ul><li>推荐输入账号密码登录，这样重启不需要扫码。</li><li>新手尽量选择软件验证，不行再手动获取token。</li><li>重复验证多次容易报风险禁止登录，有时候可以通过手机小号QQ上删除设备和更改密码解决风险。</li><li>若出现：如启动时报 Cannot find package ‘xxxx’ 的错误，直接在yunzai根目录下<code>pnpm add xxxx -w</code>正确安装依赖即可。（对应替换xxxx）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 娱乐与记录 </category>
          
          <category> QQ机器人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QQ机器人 </tag>
            
            <tag> Yunzai-Bot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用脚本</title>
      <link href="//common_shell/"/>
      <url>//common_shell/</url>
      
        <content type="html"><![CDATA[<h2 id="工具箱">工具箱</h2><ul><li>设置交换内存，安装等集合box</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure><h2 id="docker相关">docker相关</h2><h3 id="安装docker">安装docker</h3><ul><li><strong>国外</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -qO- get.docker.com | bash</span><br></pre></td></tr></table></figure><ul><li><strong>国内</strong>（自行配置镜像加速）</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure><p>或者推荐：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">sudo sh get-docker.sh --mirror Aliyun</span><br></pre></td></tr></table></figure><h3 id="配置镜像加速"><strong>配置镜像加速</strong></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /etc/docker</span><br><span class="line">sudo <span class="built_in">tee</span> /etc/docker/daemon.json &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://spu6dmnp.mirror.aliyuncs.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://cr.console.aliyun.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://mirror.ccs.tencentyun.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="安装docker-compose">安装docker-compose</h3><ul><li><strong>国内</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl -L https://get.daocloud.io/docker/compose/releases/download/v2.2.2/docker-compose-`<span class="built_in">uname</span> -s`-`<span class="built_in">uname</span> -m` &gt; /usr/local/bin/docker-compose</span><br><span class="line"><span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><ul><li><strong>国外</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><h3 id="卸载docker">卸载docker</h3><ul><li><strong>国内</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine</span><br><span class="line"><span class="built_in">rm</span> -fr /var/lib/docker/</span><br></pre></td></tr></table></figure><ul><li><strong>国外</strong></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get purge docker-ce docker-ce-cli containerd.io</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习与笔记 </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
            <tag> 备忘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>创建hexo博客</title>
      <link href="//hexo_create/"/>
      <url>//hexo_create/</url>
      
        <content type="html"><![CDATA[<p>本博客页由<a href="%5BHexo%5D(https://hexo.io/zh-cn/)">Hexo</a>博客框架生成，用的是开源的<a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a>主题，作者是<a href="https://github.com/jerryc127">jerryc127 (Jerry Wong)</a>。可选拓展丰富，方便快捷部署。</p><h2 id="创建hexo博客">创建hexo博客</h2><h3 id="安装前置">安装前置</h3><p>安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p><ul><li><a href="http://nodejs.org/">Node.js</a> (Node.js 版本需不低于 10.13，建议使用较新的稳定版本)</li><li><a href="http://git-scm.com/">Git</a></li></ul><h3 id="安装Hexo">安装Hexo</h3><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>安装 Hexo 完成后，请执行下列命令查看版本，验证安装是否成功。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>继续执行以下命令，Hexo 将会在指定文件夹中新建所需要的文件（blog是自定义文件夹名，可以按照自己想法来取名）。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>新建完成后，指定文件夹的目录如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure><h4 id="config-yml">_config.yml</h4><p>网站的 <a href="https://hexo.io/zh-cn/docs/configuration">配置</a> 信息，您可以在此配置大部分的参数。</p><h3 id="本地运行">本地运行</h3><p>安装完依赖以后，执行以下命令，编译静态文件后启动hexo服务器。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>在本机浏览器打开<a href="http://localhost:4000/">http://localhost:4000/</a> 就可以测试访问我们的博客了。</p><h3 id="更多部署内容请访问butterfly主题官方博客，里面步骤写的非常清晰明了。">更多部署内容请访问butterfly主题官方博客，里面步骤写的非常清晰明了。</h3><p><a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安裝文檔(一) 快速開始 | Butterfly</a></p>]]></content>
      
      
      <categories>
          
          <category> 娱乐与记录 </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
